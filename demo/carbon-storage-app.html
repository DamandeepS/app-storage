<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../paper-input/paper-input.html">
<link rel="import" href="../carbon-firebase-storage.html">
<link rel="import" href="../carbon-persistence-service.html">
<dom-module id="carbon-storage-app">
  <template>
    <carbon-firebase-storage
        id="storage"
        location="https://carbon-firebase-test.firebaseio.com/demo"
        data="{{data}}">
    </carbon-firebase-storage>

    <carbon-persistence-service
        id="persistence"
        data="{{data}}"
        persisted-data="{{persistedData}}"
        online="{{writable}}">
    </carbon-persistence-service>

    <paper-input
        label="data.foo"
        value="{{persistedData.foo}}"
        readonly="[[!writable]]">
    </paper-input>
  </template>
  <script>
    Polymer({
      is: 'carbon-storage-app',

      properties: {
        dataOne: {
          type: Object,
          notify: true,
          value: function() {
            return {
              foo: 'hello'
            };
          }
        },
        dataTwo: {
          type: Object,
          value: function() {
            return {
              foo: 'hello'
            };
          }
        }
      }
    });
  </script>
</dom-module>
